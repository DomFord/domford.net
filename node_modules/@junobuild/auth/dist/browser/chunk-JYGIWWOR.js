import{a as i}from"./chunk-PIJCHIUI.js";import{b as m}from"./chunk-HE7SWFN4.js";import{f as h,g as u,h as d}from"./chunk-2BORB4XM.js";import{isEmptyString as o}from"@dfinity/utils";var P=async t=>{let e=m();if("credentials"in t){let{credentials:{jwt:n},auth:a}=t;return await i({jwt:n,context:e,auth:a})}return await w({...t,context:e})},w=async({auth:t,context:e})=>{let{location:{hash:n}}=window;if(o(n)||!n.startsWith("#"))throw new h("No hash found in the current location URL");let a=new URLSearchParams(n.slice(1)),r=a.get("state"),s=a.get("id_token"),{state:c}=e;if(o(c)||r!==c)throw new u("The provided state is invalid",{cause:r});if(o(s))throw new d;return await i({jwt:s,auth:t,context:e})};export{P as a};
//# sourceMappingURL=chunk-JYGIWWOR.js.map
