import{a as d,c as h,d as l}from"./chunk-2BORB4XM.js";import{isNullish as p,notEmptyString as u}from"@dfinity/utils";var C=({authUrl:r,clientId:n,nonce:s,loginHint:i,authScopes:o,state:t,redirectUrl:a})=>{let e=(()=>{try{return new URL(r)}catch{throw new d("Cannot parse authURL",{cause:r})}})();e.searchParams.set("client_id",n);let{location:{origin:m}}=window;e.searchParams.set("redirect_uri",a??m),e.searchParams.set("response_type","code id_token"),e.searchParams.set("scope",o.join(" ")),e.searchParams.set("state",t),e.searchParams.set("nonce",s),u(i)?e.searchParams.set("login_hint",i):e.searchParams.set("prompt","select_account"),window.location.href=e.toString()},P=async({configUrl:r,clientId:n,nonce:s,loginHint:i,domainHint:o})=>{let t=await navigator.credentials.get({identity:{context:"use",providers:[{configURL:r,clientId:n,nonce:s,loginHint:i,domainHint:o}],mode:"active"},mediation:"required"});if(p(t))throw new h;let{type:a}=t;if(a!=="identity"||!("token"in t)||typeof t.token!="string")throw new l("Invalid credential received from FedCM API",{cause:t});let{token:c}=t;return{jwt:c}};export{C as a,P as b};
//# sourceMappingURL=chunk-AO3TH3FT.js.map
